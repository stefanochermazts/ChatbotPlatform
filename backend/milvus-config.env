# ðŸš€ Milvus Configuration for Production
# Aggiungi queste variabili al tuo file .env in produzione

# Milvus Connection
MILVUS_HOST=127.0.0.1
MILVUS_PORT=19530
MILVUS_COLLECTION=kb_chunks_v1
MILVUS_PYTHON_PATH=python3
MILVUS_PARTITIONS_ENABLED=true
MILVUS_TLS=false

# RAG Vector Settings
RAG_VECTOR_DRIVER=milvus
RAG_VECTOR_METRIC=cosine
RAG_VECTOR_TOP_K=100
RAG_VECTOR_MMR_LAMBDA=0.3

# Milvus Index Configuration
MILVUS_INDEX_TYPE=HNSW
MILVUS_HNSW_M=16
MILVUS_HNSW_EF_CONSTRUCTION=200
MILVUS_HNSW_EF=96

# OpenAI Embeddings
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EMBEDDING_DIM=1536

# RAG Chunking
RAG_CHUNK_MAX_CHARS=2200
RAG_CHUNK_OVERLAP_CHARS=250

# RAG Hybrid Search
RAG_BM25_TOP_K=200
RAG_RRF_K=60
RAG_MMR_LAMBDA=0.1
RAG_MMR_TAKE=100

# RAG Answer Generation
RAG_MIN_CITATIONS=1
RAG_MIN_CONFIDENCE=0.05
RAG_FORCE_IF_HAS_CITATIONS=true
RAG_FALLBACK_MESSAGE="Non lo so con certezza: non trovo riferimenti sufficienti nella base di conoscenza."

# RAG Reranker
RAG_RERANK_DRIVER=embedding
RAG_RERANK_TOP_N=100

# Context Builder (disable per preservare numeri telefono)
RAG_CTX_ENABLED=false
